@using Penna_Common;
@model Penna_PackerDetails
@*@model IEnumerable<Penna_Common.Penna_PackerDetails>*@
@{
    Layout = "~/Views/Shared/_Layout_dispatcher.cshtml";
    //Layout = Url.Action("Index", "Login");
    var Modeldata = ViewData["PackerDetails"] as List<Penna_PackerDetails>;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Packer Dashboard</title>
    <style>
        body {
            font-size: 14px;
        }

        .boxshadow {
            box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
        }

        .contain1 {
            min-height: 300px;
            width: 100%;
            background: #fff;
            border-radius: 16px;
            padding: 30px 50px;
        }

        .contain2 {
            min-height: 300px;
            width: 100%;
            background: #fff;
            border-radius: 16px;
            padding: 30px 50px;
            margin-top: 40px;
        }
        .contain3 {
            /*max-height: 200px;*/
            width: 100%;
            background: #fff;
            border-radius: 16px;
            padding: 30px 50px;
            margin-top: 40px;
        }
        h1 {
            background: none;
            color: black;
            padding: 0;
            font-size: 26px;
        }

        .drpdown {
            border: 1.5px solid rgba(112,112,112,1);
            width: 152px;
            height: 32px;
            border-radius: 4px;
        }

        .txtbox {
            border: 1.5px solid rgba(112,112,112,1);
            width: 100%;
            height: 32px !important;
            border-radius: 4px;
        }

       

        td {
            padding: 10px;
        }

        .startbatch {
            background: rgba(5,133,186,1);
            color: white;
            font-weight: bold;
            /*width: 100%;*/
            height: 32px !important;
            border-radius: 4px;
            border: 2px solid rgba(5,133,186,1);
        }

        .stopbatch {
            background: #fff;
            color: black;
            font-weight: bold;
            border: 2px solid rgba(5,133,186,1);
            width: 100%;
            height: 32px !important;
            border-radius: 4px;
        }

        .activeh1 {
            background: rgba(244,244,244,1);
            border-bottom: 2px solid rgba(5,133,186,1);
        }

        .h1border {
            border-bottom: 2px solid #dcbfe9;
            border-radius: 0px;
        }

        .table2 {
            border: 2px solid #dcbfe9 !important;
            border-left: 2px solid #dcbfe9 !important;
            border-radius: 16px !important;
            padding: 10px;
            width: 100%;
            border-collapse: collapse;
            border-radius: 1em;
            overflow: hidden;
        }

        .table2header {
            border-collapse: collapse;
            border: 2px solid #dcbfe9;
            border-radius: 16px;
            background: #F1F1F1;
            padding: 10px;
            height: 32px;
            text-align: left;
        }
        /* table {
                border-collapse: collapse;
                border-radius: 1em;
                overflow: hidden;
            }*/

        .tr {
            border: 2px solid #dcbfe9;
        }
        th{
            font-weight:bold;
            padding:10px;
            text-align:left;
        }
    </style>

</head>
<body>
    <div>
        <div class="row col-sm-12">
            <div class="boxshadow contain3 col-sm-5">
                <div>
                    <span style="font-weight:bold">Select Action</span>

                </div>
                <br />
                <div class="row">
                    <div class=" col-sm-6">
                        <input type="checkbox" checked="checked" id="BulkUpload" onclick="BulkUpload()" value="Bulk Upload" /> Bulk Upload
                    </div>
                    <div class=" col-sm-6">
                        <input type="checkbox" id="ManualEntry" onclick="ManualEntry()" value="Manual Entry" />Manual Entry


                    </div>
                </div>
            </div>

            <div class="boxshadow contain3 col-sm-6" id="Bulkcontainer" style="margin-left:25px;display:block">
                @using (Html.BeginForm("BulkUpload", "Dispatcher_Dashboard", FormMethod.Post, new { enctype = "multipart/form-data" }))
                {
                    <div>
                        <span style="font-weight:bold">Bulk Upload</span>

                    </div>
                    <br />

                    <div class="row">
                        <div style="display:none" class=" col-sm-3">
                            <input type="text" id="filebox"  class="txtbox" value="" />

                        </div>
                        <div class=" col-sm-3">
                            @*<input type="button" class="startbatch" value="Browse" />*@
                            <label class="startbatch custom-file-upload" for="file-upload" style="text-align:center;">
                                Browse <input type="file" style="display: none;" name="image">
                            </label>

                            @Html.TextBox("file", "", new { type = "file", @class = "realupload ", @style = "border:0px;width:400px;display:none ", @id = "file-upload" })

                        </div>
                        <div class=" col-sm-3">

                            <button class="stopbatch">Upload</button>
                        </div>
                    </div>
                }
            </div>

        </div>

        <div class="boxshadow contain3" id="Manualcontainer" style="display: none">
            @*<h1>
                    Dashboard
                </h1>*@
            <div>
                <table class="table-responsive">

                    <tr>

                        <th style="width: 21%;">Delivery No</th>
                        <th style="width: 21%;">Vehcile No</th>
                        <th style="width: 21%;">Set Bags</th>
                        <th style="width: 20%;">MRP</th>
                        <th style="width: 20%;">Grade</th>
                    </tr>

                    @using (Html.BeginForm("Create", "Dispatcher_Dashboard", FormMethod.Post))
                    {

                        <tr>

                            <td>
                                @Html.TextBoxFor(model => model.Delivery_Number, "", new { @class = "txtbox" })
                                                        <label style="color:red"> @ViewBag.DNumber</label>
                                                    </td>
                            <td>
                                @Html.TextBoxFor(model => model.Vehicle_Number, "", new { @class = "txtbox" })
                                                        <label style="color:red">
                                                            @ViewBag.VNumber
                                                        </label>
                                                    </td>
                            <td>@Html.TextBoxFor(model => model.Set_Count, "", new { @class = "txtbox" })
                                <label style="color:red">
                                    @ViewBag.bCount
                                </label></td>
                            <td>
                                @Html.TextBoxFor(model => model.MRP, "", new { @class = "txtbox", @id = "MRPbox" })
                                                        <label style="color:red">
                                                           
                                                        </label>
                                                    </td>
                            <td>
                                @Html.TextBoxFor(model => model.Grade, "", new { @class = "txtbox" })
                                                        <label style="color:red">
                                                            @ViewBag.gmsg
                                                        </label>
                                                    </td>
                        </tr>
                        <tr>
                            <td>
                              
                               
                            </td>
                            <td>
                               
                            </td>
                            <td>
                                
                            </td>

                            <td></td>
                            <td>
                               
                                <div class="row" style=" margin: 0px;">
                                    <div class="col-sm-6">
                                        @*<input type="button" class="startbatch " style="margin-top: -5px;" value="Save" />*@
                                        <button class="startbatch " style="margin-top: -5px;">Save</button>
                                    </div>
                                    <div class="col-sm-6">
                                        <a class="stopbatch " style="padding:5px;" href="@Url.Action("Index","Dispatcher_Dashboard")">Cancel</a>
                                    </div>
                                </div>
                            </td>

                        </tr>
                    }
                </table>
                <div>
                    <input type="checkbox" onclick="MRPCheck()" checked="checked" style="pointer-events:none" id="MRPCheck" /> MRP
                    <input type="checkbox" id="NoMRPCheck" onclick="NoMRPCheck()" value="Manual Entry" style="margin-left:15px" />NO MRP
                    <br />
                </div>

            </div>

        </div>
        <div class="boxshadow contain2">
            <a href="@Url.Action("SAP", "Dispatcher_Dashboard")" class="startbatch">Refresh</a>
          
            <h1 class="h1border">
                <br />
                <a class="activeh1">
                    Listing
                </a>

            </h1>

            <div>
                <table class="table2">

                    <tr class="table2header">
                        <th style="text-align:left;padding:15px;">Delivery No</th>
                        <th style="text-align:left;padding:15px;">Vehicle No</th>
                        <th style="text-align:left;padding:15px;">Message Format</th>
                        <th style="text-align:left;padding:15px;">MRP</th>
                        <th style="text-align:left;padding:15px;">Grade</th>
                        <th style="text-align:left;padding:15px;">Set Count</th>
                    </tr>
                    <tbody>
                        @if (Modeldata != null)
                        {
                            foreach (var item in Modeldata)
                            {
                                <tr class="tr">
                                    <td>
                                        @item.Delivery_Number
                                    </td>
                                    <td>
                                        @item.Vehicle_Number
                                    </td>
                                    <td>
                                        @item.Message_Format
                                    </td>
                                    <td>
                                        @item.MRP
                                    </td>
                                    <td>
                                        @item.Grade
                                    </td>
                                    <td>
                                        @item.Set_Count
                                    </td>
                                </tr>

                            }
                        }
                    </tbody>

                </table>
            </div>
        </div>
      
    </div>
    @if (ViewBag.Manual != null)
    {
<script type="text/javascript">
            window.onload = function () {
              
                $("#BulkUpload").prop("checked", false);
                $("#ManualEntry").prop("checked", true);
            document.getElementById("ManualEntry").style.pointerEvents = "none";
            document.getElementById("BulkUpload").style.pointerEvents = "all";
            document.getElementById("Bulkcontainer").style.display = "none";
            document.getElementById("Manualcontainer").style.display = "block";
        
            };
</script>
    }
    <script type="text/javascript">
        $("#file-upload").change(function () {
            debugger;
            $("#file-name").text(this.files[0].name);
        });
        document.getElementById("file-upload").onchange = function () {
            document.getElementById("uploadFile").value = this.value;
            $("#file-name").text(this.files[0].name);
        };
        function NoMRPCheck() {
            $("#MRPCheck").prop("checked", false);
            document.getElementById("NoMRPCheck").style.pointerEvents = "none";
            document.getElementById("MRPCheck").style.pointerEvents = "all";

            document.getElementById("MRPbox").style.pointerEvents = "none";
            $('#MRPbox').val(0)
        }
        function BulkUpload() {
            document.getElementById("Bulkcontainer").style.display = "block";
            document.getElementById("Manualcontainer").style.display = "none";

            document.getElementById("BulkUpload").style.pointerEvents = "none";
            document.getElementById("ManualEntry").style.pointerEvents = "all";
            $("#ManualEntry").prop("checked", false);
        }
        function ManualEntry() {
            $("#BulkUpload").prop("checked", false);
            document.getElementById("ManualEntry").style.pointerEvents = "none";
            document.getElementById("BulkUpload").style.pointerEvents = "all";
            document.getElementById("Bulkcontainer").style.display = "none";
            document.getElementById("Manualcontainer").style.display = "block";
        }
        function MRPCheck() {

            document.getElementById("MRPCheck").style.pointerEvents = "none";
            document.getElementById("NoMRPCheck").style.pointerEvents = "all";
            document.getElementById("MRPbox").style.pointerEvents = "all";
            $("#NoMRPCheck").prop("checked", false);
            $('#MRPbox').val("")
        }

    </script>
</body>
</html>
